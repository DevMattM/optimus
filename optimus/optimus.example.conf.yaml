# This is the header in the csv that determines the subject
subject: STUDY_ID

# This header determines the event
event: RESULT_DATE

# This header determines what the information is
identifier: NAME

# These help the parser parse the csv
delimiter: ","
quotechar: "\""

# These will change depending on your mappings object.
__value_key: &value_key ORD_VALUE
__unit_key: &unit_key REFERENCE_UNIT
__event_key: &event_key RESULT_DATE

# These are keys to the lambdas in the transforms dict in optimus
# they are used to do small transformations to data like reformating dates
transforms:
  format_date: &format_date format_date

# this is used to null out fields
__delete_this_field: &field_delete "__DELETE__"


# This has the same responsibility as the translation table
mappings:

  # - row_key: MY SUPER COOL MEDICAL TEST
  #   headers:
  #     - header_key: *MY_ALIAS_THAT_ADDRESSES_THIS_FIELD_1
  #       field: MY_REDCAP_FIELD_NAME_1
  #     - header_key: *MY_ALIAS_THAT_ADDRESSES_THIS_FIELD_2
  #       field: MY_REDCAP_FIELD_NAME_2
  #       .
  #       .
  #       .
  #     - field: MY_REDCAP_FIELD_NAME_THAT_NEEDS_TO_BE_DEFAULTED
  #       value: MY_DEFAULT_VALUE
  #     - header_key: *MY_ALIAS_THAT_ADDRESSES_THIS_FIELD_3
  #       field: MY_REDCAP_FIELD_NAME_3
  #       transform: *MY_ALIAS_FOR_HOW_TO_TRANSFORM_THE_DATA_IN_THE_CELL

  - row_key: SODIUM
    headers:
      - header_key: *value_key
        field: sodium_im_lborres
      - header_key: *unit_key
        field: sodium_im_lborresu
      - field: sodium_im_lbstat
        value: *field_delete
      - field: chem_im_lbdtc
        header_key: *event_key
        transform: *format_date
